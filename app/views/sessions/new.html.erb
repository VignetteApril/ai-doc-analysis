<%# app/views/sessions/new.html.erb %>

<div class="login-body">
  <div class="header-logo">
    <%= image_tag "logo.png", alt: "Logo", class: "logo-img" %>
    <span>AI公文校对系统</span>
  </div>

  <div class="main-container">
    <div class="login-card">
      <h2 class="login-title">用户登录</h2>

      <%# Flash 错误提示 %>
      <% if flash[:alert] %>
        <div class="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6 text-sm flex items-center">
          <i class="fa-solid fa-circle-exclamation mr-2"></i>
          <%= flash[:alert] %>
        </div>
      <% end %>

      <%# 登录表单 %>
      <%= form_with url: login_path, method: :post, local: true do %>

        <div class="form-group">
          <div class="input-wrapper">
            <i class="fa-regular fa-user"></i>
            <%= email_field_tag :email, params[:email],
                                class: "form-control",
                                placeholder: "请输入用户名/邮箱",
                                required: true,
                                autofocus: true %>
          </div>
        </div>

        <div class="form-group">
          <div class="input-wrapper">
            <i class="fa-solid fa-lock"></i>
            <%= password_field_tag :password, nil,
                                   class: "form-control",
                                   placeholder: "请输入登录密码",
                                   required: true %>
          </div>
        </div>

        <div class="form-options">
          <label class="remember-me">
            <%= check_box_tag :remember_me, 1, params[:remember_me] %>
            <span>记住密码</span>
          </label>
          <%= link_to "匿名登录", "#", class: "anonymous-link" %>
        </div>

        <%= submit_tag "立即登录", class: "btn-login" %>

      <% end %>
    </div>
  </div>
</div>